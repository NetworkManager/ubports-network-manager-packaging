From 543890cbbda063ae15c58d5cc249448a3ef77d4a Mon Sep 17 00:00:00 2001
From: Lubomir Rintel <lkundrak@v3.sk>
Date: Fri, 8 Mar 2019 11:24:06 +0100
Subject: [PATCH] wwan/ofono: pass the right argument to manager proxy callback

Otherwise it will be dereferencing NULL when invoked.

Fixes: 58712c95464a ('ofono: take D-Bus proxy for ConnectionManager asynchronously')
---
 src/devices/wwan/nm-modem-ofono.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/devices/wwan/nm-modem-ofono.c b/src/devices/wwan/nm-modem-ofono.c
index 8d0f0b0148..78d9a9f066 100644
--- a/src/devices/wwan/nm-modem-ofono.c
+++ b/src/devices/wwan/nm-modem-ofono.c
@@ -651,7 +651,7 @@ handle_connman_iface (NMModemOfono *self, gboolean found)
 		                          OFONO_DBUS_INTERFACE_CONNECTION_MANAGER,
 		                          priv->connman_proxy_cancellable,
 		                          _connman_proxy_new_cb,
-		                          NULL);
+		                          self);
 	}
 }
 
-- 
2.20.1

